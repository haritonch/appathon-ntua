(this["webpackJsonpart-for-all"]=this["webpackJsonpart-for-all"]||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},15:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),o=(a(15),a(7)),i=a(1),m=a.n(i),l=a(2),u=a(3),p=a(4),b=a(6),h=a(5),j=(a(17),function(e){return r.a.createElement("div",{className:"main-artwork"},r.a.createElement("a",{href:e.object.objectURL,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:"primary-image",src:e.object.primaryImageSmall,alt:e.object.title})),r.a.createElement("div",{className:"main-info"},r.a.createElement("h2",{className:"title"},e.object.title),r.a.createElement("h4",{className:"date"},e.object.objectDate," ",e.object.country?","+e.object.country:""),r.a.createElement("h3",{className:"artist"},e.object.artistDisplayName)))}),f=function(e){return r.a.createElement("img",{className:"thumbnail-image",src:e.url,alt:e.object.title,onClick:function(){e.selectImage(e.object)}})},O=function(e){if(e.moreObjectsByArtist){var t=e.moreObjectsByArtist.map((function(t){return r.a.createElement(f,{url:t.primaryImageSmall,object:t,selectImage:e.selectImage,key:t.objectID})}));return r.a.createElement("div",{className:"more by-artist more"},r.a.createElement("p",null,"More by ",e.artistName),r.a.createElement("div",{className:"thumbnail"},t))}return r.a.createElement("div",null)},g=function(e){if(e.moreObjectsInDepartment){var t=e.moreObjectsInDepartment.map((function(t){return r.a.createElement(f,{url:t.primaryImageSmall,object:t,selectImage:e.selectImage,key:t.objectID})}));return r.a.createElement("div",{className:"more in-department"},r.a.createElement("p",null,"More in department: ",e.departmentName),r.a.createElement("div",{className:"thumbnail"},t))}return r.a.createElement("div",null)},d=function(e){if(e.moreObjectsYouMightLike){var t=e.moreObjectsYouMightLike.map((function(t){return r.a.createElement(f,{url:t.primaryImageSmall,object:t,selectImage:e.selectImage,key:t.objectID})}));return r.a.createElement("div",{className:"more you-might-also-like"},r.a.createElement("p",null,"You might also like"),r.a.createElement("div",{className:"thumbnail"},t))}return r.a.createElement("div",null)},v=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return this.props.mainObject.artistDisplayName&&this.props.mainObject.department?r.a.createElement("div",null,r.a.createElement(O,{artistName:this.props.mainObject.artistDisplayName,moreObjectsByArtist:this.props.moreObjectsByArtist,selectImage:this.props.selectImage}),r.a.createElement(g,{departmentName:this.props.mainObject.department,moreObjectsInDepartment:this.props.moreObjectsInDepartment,selectImage:this.props.selectImage}),r.a.createElement(d,{moreObjectsYouMightLike:this.props.moreObjectsYouMightLike,selectImage:this.props.selectImage})):r.a.createElement("div",null)}}]),a}(r.a.Component),I=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).getMainObject=function(){var t=Object(l.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(a));case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,e.setState({mainObject:r});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getMoreByArtist=Object(l.a)(m.a.mark((function t(){var a,n,r,c,s,i,l,u;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({moreObjectsByArtist:[]}),t.next=3,fetch("https://collectionapi.metmuseum.org/public/collection/v1/search?hasImages=true&artistOrCulture=true&q=".concat(e.state.mainObject.artistDisplayName));case 3:return a=t.sent,t.next=6,a.json();case 6:return n=t.sent,t.next=9,n.objectIDs;case 9:r=t.sent,c=Object(o.a)(r),t.prev=11,c.s();case 13:if((s=c.n()).done){t.next=24;break}return i=s.value,t.next=17,fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(i));case 17:return l=t.sent,t.next=20,l.json();case 20:(u=t.sent).artistDisplayName===e.state.mainObject.artistDisplayName&&e.setState({moreObjectsByArtist:e.state.moreObjectsByArtist.concat([u])});case 22:t.next=13;break;case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(11),c.e(t.t0);case 29:return t.prev=29,c.f(),t.finish(29);case 32:case"end":return t.stop()}}),t,null,[[11,26,29,32]])}))),e.getMoreInDepartment=Object(l.a)(m.a.mark((function t(){var a,n,r,c,s,i,l,u,p,b;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({moreObjectsInDepartment:[]}),a=e.deptIdOf[e.state.mainObject.department],t.next=4,fetch("https://collectionapi.metmuseum.org/public/collection/v1/search?departmentId=".concat(a,"&hasImages=true&q=%22%22"));case 4:return n=t.sent,t.next=7,n.json();case 7:return r=t.sent,t.next=10,r.objectIDs;case 10:c=t.sent,s=c.sort((function(){return.5-Math.random()})).slice(0,6),i=Object(o.a)(s),t.prev=13,i.s();case 15:if((l=i.n()).done){t.next=26;break}return u=l.value,t.next=19,fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(u));case 19:return p=t.sent,t.next=22,p.json();case 22:b=t.sent,e.setState({moreObjectsInDepartment:e.state.moreObjectsInDepartment.concat([b])});case 24:t.next=15;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t.catch(13),i.e(t.t0);case 31:return t.prev=31,i.f(),t.finish(31);case 34:case"end":return t.stop()}}),t,null,[[13,28,31,34]])}))),e.getYouMightLike=Object(l.a)(m.a.mark((function t(){var a,n,r,c,s,o,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({moreObjectsYouMightLike:[]}),t.next=3,fetch('https://collectionapi.metmuseum.org/public/collection/v1/search?hasImages=true&q=""');case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,r=n.objectIDs,c=0;case 9:if(!(c<10)){t.next=21;break}return s=r[Math.floor(Math.random()*r.length)],t.next=13,fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(s));case 13:return o=t.sent,t.next=16,o.json();case 16:i=t.sent,e.setState({moreObjectsYouMightLike:e.state.moreObjectsYouMightLike.concat([i])});case 18:c++,t.next=9;break;case 21:case"end":return t.stop()}}),t)}))),e.createDeptIdOf=Object(l.a)(m.a.mark((function t(){var a,n,r,c,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://collectionapi.metmuseum.org/public/collection/v1/departments");case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,r=Object(o.a)(n.departments);try{for(r.s();!(c=r.n()).done;)s=c.value,e.deptIdOf[s.displayName]=s.departmentId}catch(i){r.e(i)}finally{r.f()}case 8:case"end":return t.stop()}}),t)}))),e.selectImage=function(){var t=Object(l.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({mainObject:a});case 2:e.getMoreByArtist(),e.getMoreInDepartment(),e.getYouMightLike();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deptIdOf={},e.state={mainObject:null,moreObjectsByArtist:null,moreObjectsInDepartment:null,moreObjectsYouMightLike:null},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getMainObject(436532).then((function(){e.getMoreByArtist(),e.createDeptIdOf().then((function(){e.getMoreInDepartment()})),e.getYouMightLike()}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col left-half"},this.state.mainObject?r.a.createElement(j,{object:this.state.mainObject}):r.a.createElement("div",null)),r.a.createElement("div",{className:"col right-half"},this.state.mainObject?r.a.createElement(v,{mainObject:this.state.mainObject,moreObjectsByArtist:this.state.moreObjectsByArtist,moreObjectsInDepartment:this.state.moreObjectsInDepartment,moreObjectsYouMightLike:this.state.moreObjectsYouMightLike,selectImage:this.selectImage}):r.a.createElement("div",null)))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.b4abd15c.chunk.js.map